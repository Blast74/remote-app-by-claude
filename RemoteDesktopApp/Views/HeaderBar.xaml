<UserControl x:Class="RemoteDesktopApp.Views.HeaderBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Height="60"
             Background="{DynamicResource MaterialDesignPaper}">
    
    <Border BorderBrush="{DynamicResource MaterialDesignDivider}" 
            BorderThickness="0,0,0,1">
        <Grid Margin="10,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Logo and Title -->
            <StackPanel Grid.Column="0" 
                       Orientation="Horizontal" 
                       VerticalAlignment="Center">
                <materialDesign:PackIcon 
                    Kind="Monitor" 
                    Width="32" 
                    Height="32" 
                    Foreground="{DynamicResource MaterialDesignBody}"
                    Margin="0,0,10,0"/>
                <TextBlock 
                    Text="Professional Remote Desktop" 
                    Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                    VerticalAlignment="Center"
                    Foreground="{DynamicResource MaterialDesignBody}"/>
            </StackPanel>
            
            <!-- Search Box -->
            <Grid Grid.Column="1" 
                  MaxWidth="400" 
                  Margin="50,0"
                  VerticalAlignment="Center">
                <TextBox 
                    x:Name="SearchBox"
                    materialDesign:HintAssist.Hint="Search connections..."
                    materialDesign:TextFieldAssist.HasClearButton="True"
                    materialDesign:TextFieldAssist.HasLeadingIcon="True"
                    materialDesign:TextFieldAssist.LeadingIcon="Search"
                    Style="{StaticResource MaterialDesignFilledTextBox}"
                    Margin="10,0"/>
            </Grid>
            
            <!-- Action Buttons -->
            <StackPanel Grid.Column="2" 
                       Orientation="Horizontal" 
                       VerticalAlignment="Center">
                
                <!-- New Connection Button -->
                <Button 
                    x:Name="NewConnectionButton"
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    materialDesign:ButtonAssist.CornerRadius="4"
                    Margin="5,0"
                    ToolTip="New Connection"
                    Command="{Binding NewConnectionCommand}">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="Plus" Width="16" Height="16" Margin="0,0,5,0"/>
                        <TextBlock Text="New Connection"/>
                    </StackPanel>
                </Button>
                
                <!-- Notifications Button -->
                <Button 
                    x:Name="NotificationsButton"
                    Style="{StaticResource MaterialDesignIconButton}"
                    Margin="5,0"
                    ToolTip="Notifications"
                    Command="{Binding ShowNotificationsCommand}">
                    <materialDesign:PackIcon Kind="Bell" Width="20" Height="20"/>
                    <materialDesign:BadgedAssist.Badge>
                        <materialDesign:Badged Badge="3" BadgeColorZoneMode="PrimaryMid">
                            <materialDesign:PackIcon Kind="Bell" Width="20" Height="20"/>
                        </materialDesign:Badged>
                    </materialDesign:BadgedAssist.Badge>
                </Button>
                
                <!-- Theme Toggle Button -->
                <Button 
                    x:Name="ThemeToggleButton"
                    Style="{StaticResource MaterialDesignIconButton}"
                    Margin="5,0"
                    ToolTip="Toggle Theme"
                    Command="{Binding ToggleThemeCommand}">
                    <materialDesign:PackIcon Kind="ThemeLightDark" Width="20" Height="20"/>
                </Button>
                
                <!-- Settings Button -->
                <Button 
                    x:Name="SettingsButton"
                    Style="{StaticResource MaterialDesignIconButton}"
                    Margin="5,0"
                    ToolTip="Settings"
                    Command="{Binding ShowSettingsCommand}">
                    <materialDesign:PackIcon Kind="Settings" Width="20" Height="20"/>
                </Button>
                
                <!-- User Profile -->
                <Button 
                    x:Name="UserProfileButton"
                    Style="{StaticResource MaterialDesignIconButton}"
                    Margin="10,0,0,0"
                    ToolTip="User Profile"
                    Command="{Binding ShowUserProfileCommand}">
                    <Grid>
                        <Ellipse 
                            Width="32" 
                            Height="32" 
                            Fill="{DynamicResource MaterialDesignBody}"/>
                        <TextBlock 
                            Text="{Binding UserInitials}"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Foreground="{DynamicResource MaterialDesignPaper}"
                            FontWeight="Bold"/>
                    </Grid>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</UserControl>